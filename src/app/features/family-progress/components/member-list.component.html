<div class="member-list">
  <div 
    *ngFor="let member of members; trackBy: trackByMemberId" 
    class="member-card"
    (click)="onMemberClick(member)">
    
    <!-- 成员信息区域 -->
    <div class="member-info">
      <!-- 头像 -->
      <div 
        class="member-avatar"
        [style.background-color]="member.avatarBgColor">
        {{ member.avatar }}
      </div>
      
      <!-- 名字和进度 -->
      <div class="member-details">
        <div class="member-name-row">
          <h3 class="member-name">{{ member.name }}</h3>
          <span class="water-amount">
            {{ getWaterText(getMemberData(member.id).totalAmount, member.dailyGoal) }}
          </span>
        </div>
        
        <!-- 进度条 -->
        <div class="progress-bar-container">
          <div 
            class="progress-bar-fill"
            [class.completed]="getMemberData(member.id).percentage >= 100"
            [style.width.%]="getMemberData(member.id).percentage">
          </div>
        </div>
        
        <div class="progress-info">
          <span class="percentage-text">
            {{ getPercentageText(getMemberData(member.id).percentage) }}
          </span>
          <span class="record-count">
            今日 {{ getMemberData(member.id).recordCount }} 次
          </span>
        </div>
      </div>
    </div>
    
    <!-- 快捷添加按钮 -->
    <div class="quick-actions" (click)="$event.stopPropagation()" *ngIf="canModifyMember(member)">
      <button 
        class="quick-add-btn"
        (click)="onQuickAdd(member, 200)"
        type="button">
        +200ml
      </button>
      <button 
        class="quick-add-btn"
        (click)="onQuickAdd(member, 500)"
        type="button">
        +500ml
      </button>
      <button 
        class="quick-add-btn"
        (click)="onQuickAdd(member, 750)"
        type="button">
        +750ml
      </button>
    </div>

    <!-- 未登录提示 -->
    <div class="login-prompt" *ngIf="!isAuthenticated">
      <p class="prompt-text">请登录以添加喝水记录</p>
    </div>

    <!-- 权限提示 -->
    <div class="permission-prompt" *ngIf="isAuthenticated && !canModifyMember(member)">
      <p class="prompt-text">只能为自己添加记录</p>
    </div>
  </div>

  <!-- 空状态 -->
  <div *ngIf="members.length === 0" class="empty-state">
    <p class="empty-text">还没有家庭成员</p>
    <p class="empty-hint">前往设置页面添加成员</p>
  </div>
</div>
